<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">
    <h:form id="normIndicators" style="height: 100%; overflow: auto;">
        <p:panel id="rootPanel" styleClass="tc-panel" header="Нормативные показатели">
            <div style="display: flex; margin-bottom: 5px;">
                <div style="flex: 1 1 0; margin-right: 5px;">
                    <p:panel styleClass="tc-panel" header="Тепловой ввод">
                        <div style="height: calc(100% - 6px); padding: 3px;">
                            <p:dataTable id="indicatorTVTable" value="#{normIndicators.indicatorTVList}" var="tv"
                                         editable="#{systemParamsUtil.write}" editMode="cell"
                                         emptyMessage="#{global['table.empty.value']}">

                                <p:ajax event="cellEdit" listener="#{normIndicators.onCellEdit}" />

                                <p:column headerText="Тип объекта" >
                                    <h:outputText value="Источник"/>
                                </p:column>
                                <p:column id="K" headerText="Кп_н [%]" style="text-align: center;">
                                    <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                        <f:facet name="output">
                                            <h:outputText value="&lt;|#{tv.kpn}|%"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputNumber value="#{tv.kpn}" decimalPlaces="2"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column id="KzTv" headerText="Кз [тонн/Гкал]" style="text-align: center;">
                                    <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                        <f:facet name="output">
                                            <h:outputText value="&lt;#{tv.kz}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputNumber value="#{tv.kz}" decimalPlaces="2"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column id="KpTv" headerText="Кп [%]" style="text-align: center;">
                                    <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                        <f:facet name="output">
                                            <h:outputText value="&lt;#{tv.kp}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputNumber value="#{tv.kp}" decimalPlaces="2"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                            </p:dataTable>

                            <p:tooltip for="normIndicators:indicatorTVTable:K" position="bottom" showDelay="500">
                                <p:graphicImage name="tooltip/K.jpg" library="normIndicators"/>
                            </p:tooltip>
                            <p:tooltip for="normIndicators:indicatorTVTable:KzTv" position="bottom" showDelay="500">
                                <p:graphicImage name="tooltip/Kz tv.jpg" library="normIndicators"/>
                            </p:tooltip>
                            <p:tooltip for="normIndicators:indicatorTVTable:KpTv" position="bottom" showDelay="500">
                                <p:graphicImage name="tooltip/Kp tv.jpg" library="normIndicators"/>
                            </p:tooltip>
                        </div>

                        <f:facet name="actions">
                            <p:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default tc-success tc-no-loading tc-small"
                                           onclick="PF('statusDialog').show();" rendered="#{systemParamsUtil.write}"
                                           action="#{normIndicators.onSaveChanges('TV')}" update="indicatorTVTable growl"
                                           oncomplete="PF('statusDialog').hide();">
                                <h:outputText styleClass="ui-icon pi pi-save"/>
                            </p:commandLink>
                        </f:facet>
                    </p:panel>
                </div>
                <div style="flex: 1 1 0;">
                    <p:panel styleClass="tc-panel" header="Центральное отопление">
                        <div style="height: calc(100% - 6px); padding: 3px;">
                            <p:dataTable id="indicatorCOTable" value="#{normIndicators.indicatorCOList}" var="co"
                                         editable="#{systemParamsUtil.write}" editMode="cell"
                                         emptyMessage="#{global['table.empty.value']}">

                                <p:ajax event="cellEdit" listener="#{normIndicators.onCellEdit}" />

                                <p:column headerText="Тип объекта">
                                    <h:outputText value="#{co.name}"/>
                                </p:column>
                                <p:column id="KzCo" headerText="Кз [тонн/Гкал]" style="text-align: center;">
                                    <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                        <f:facet name="output">
                                            <h:outputText value="&lt;#{co.kz}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputNumber value="#{co.kz}" decimalPlaces="2"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column id="KpCo" headerText="Кп [%]" style="text-align: center;">
                                    <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                        <f:facet name="output">
                                            <h:outputText value="&lt;#{co.kp}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputNumber value="#{co.kp}" decimalPlaces="2"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                            </p:dataTable>

                            <p:tooltip for="normIndicators:indicatorCOTable:KzCo" position="bottom" showDelay="500">
                                <p:graphicImage name="tooltip/Kz co.jpg" library="normIndicators"/>
                            </p:tooltip>
                            <p:tooltip for="normIndicators:indicatorCOTable:KpCo" position="left" showDelay="500">
                                <p:graphicImage name="tooltip/Kp co.jpg" library="normIndicators"/>
                            </p:tooltip>
                        </div>

                        <f:facet name="actions">
                            <p:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default tc-success tc-no-loading tc-small"
                                           onclick="PF('statusDialog').show();" rendered="#{systemParamsUtil.write}"
                                           action="#{normIndicators.onSaveChanges('CO')}" update="indicatorCOTable growl"
                                           oncomplete="PF('statusDialog').hide();">
                                <h:outputText styleClass="ui-icon pi pi-save"/>
                            </p:commandLink>
                        </f:facet>
                    </p:panel>
                </div>
            </div>
            <div style="display: flex; margin-bottom: 5px;">
                <div style="flex: 1 1 0; margin-right: 5px;">
                    <p:panel styleClass="tc-panel" header="Горячее водоснабжение">
                        <div style="height: calc(100% - 6px); padding: 3px;">
                            <p:dataTable id="indicatorGVSTable" value="#{normIndicators.indicatorGVSList}" var="gvs"
                                         editable="#{systemParamsUtil.write}" editMode="cell"
                                         emptyMessage="#{global['table.empty.value']}">

                                <p:ajax event="cellEdit" listener="#{normIndicators.onCellEdit}" />

                                <p:column headerText="Тип объекта" >
                                    <h:outputText value="#{gvs.name}"/>
                                </p:column>
                                <p:column id="KcGvs" headerText="Кц [%]" style="text-align: center;">
                                    <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                        <f:facet name="output">
                                            <h:outputText value="&gt;#{gvs.kc}%"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputNumber value="#{gvs.kc}" decimalPlaces="2"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                            </p:dataTable>

                            <p:tooltip for="normIndicators:indicatorGVSTable:KcGvs" position="bottom" showDelay="500">
                                <p:graphicImage name="tooltip/Kc gvs.jpg" library="normIndicators"/>
                            </p:tooltip>
                        </div>

                        <f:facet name="actions">
                            <p:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default tc-success tc-no-loading tc-small"
                                           onclick="PF('statusDialog').show();" rendered="#{systemParamsUtil.write}"
                                           action="#{normIndicators.onSaveChanges('GVS')}" update="indicatorGVSTable growl"
                                           oncomplete="PF('statusDialog').hide();">
                                <h:outputText styleClass="ui-icon pi pi-save"/>
                            </p:commandLink>
                        </f:facet>
                    </p:panel>
                </div>
                <div style="flex: 1 1 0;">
                    <p:panel styleClass="tc-panel" header="Вентиляция">
                        <div style="height: calc(100% - 6px); padding: 3px;">
                            <p:dataTable id="indicatorVENTTable" value="#{normIndicators.indicatorVENTList}" var="vent"
                                         editable="#{systemParamsUtil.write}" editMode="cell"
                                         emptyMessage="#{global['table.empty.value']}">

                                <p:ajax event="cellEdit" listener="#{normIndicators.onCellEdit}" />

                                <p:column headerText="Тип объекта">
                                    <h:outputText value="#{vent.name}"/>
                                </p:column>
                                <p:column id="KzVent" headerText="Кз [тонн/Гкал]" style="text-align: center;">
                                    <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                        <f:facet name="output">
                                            <h:outputText value="&lt;#{vent.kz}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputNumber value="#{vent.kz}" decimalPlaces="2"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column id="KpVent" headerText="Кп [%]" style="text-align: center;">
                                    <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                        <f:facet name="output">
                                            <h:outputText value="&lt;#{vent.kp}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputNumber value="#{vent.kp}" decimalPlaces="2"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                            </p:dataTable>

                            <p:tooltip for="normIndicators:indicatorVENTTable:KzVent" position="bottom" showDelay="500">
                                <p:graphicImage name="tooltip/Kz vent.jpg" library="normIndicators"/>
                            </p:tooltip>
                            <p:tooltip for="normIndicators:indicatorVENTTable:KpVent" position="left" showDelay="500">
                                <p:graphicImage name="tooltip/Kp vent.jpg" library="normIndicators"/>
                            </p:tooltip>
                        </div>

                        <f:facet name="actions">
                            <p:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default tc-success tc-no-loading tc-small"
                                           onclick="PF('statusDialog').show();" rendered="#{systemParamsUtil.write}"
                                           action="#{normIndicators.onSaveChanges('VENT')}" update="indicatorVENTTable growl"
                                           oncomplete="PF('statusDialog').hide();">
                                <h:outputText styleClass="ui-icon pi pi-save"/>
                            </p:commandLink>
                        </f:facet>
                    </p:panel>
                </div>
            </div>
            <div style="margin-bottom: 5px;">
                <p:panel styleClass="tc-panel" header="Граничные значения">
                    <div style="height: calc(100% - 6px); padding: 3px;">
                        <p:dataTable id="borderValues" value="#{normIndicators.indicatorOtherList}" var="other"
                                     editable="#{systemParamsUtil.write}" editMode="cell"
                                     emptyMessage="#{global['table.empty.value']}" style="height: 100%;" >

                            <p:ajax event="cellEdit" listener="#{normIndicators.onCellEdit}" />

                            <p:columnGroup type="header">
                                <p:row>
                                    <p:column rowspan="2" headerText="Тип объекта" width="150" />
                                    <p:column id="T7" rowspan="2" headerText="Т7 [℃]" width="70" />
                                    <p:column id="dT7" rowspan="2" headerText="∆T7 (Т7 ТП - Т7потр.) [℃]" width="170" />
                                    <p:column id="Kt" rowspan="2" headerText="Кт [%]" width="70" />
                                    <p:column id="Kto" rowspan="2" headerText="Ктo [%]" width="70" />
                                    <p:column id="Kg" rowspan="2" headerText="КG [%]" width="70" />
                                    <p:column id="Kv" rowspan="2" headerText="КV [%]" width="70" />
                                    <p:column colspan="3" headerText="КУ [тонн]" width="150" />
                                    <p:column id="KrCo" rowspan="2" headerText="КР цо" width="70" />
                                    <p:column id="KdgCo" rowspan="2" headerText="К∆G цо" width="70" />
                                    <p:column id="K1" rowspan="2" headerText="К1 недоотпуск [%]" width="130" />
                                    <p:column id="K2" rowspan="2" headerText="К2 перетоп [%]" width="115" />
                                    <p:column id="KrGvs" rowspan="2" headerText="КР гвс" width="70" />
                                    <p:column id="KdgGvs" rowspan="2" headerText="К∆G гвс" width="55" />
                                    <p:column id="kqgvsleto" rowspan="2" headerText="КQ гвс лето" width="85" />
                                    <p:column id="Tgvs" rowspan="2" headerText="∆Tгвс" width="70" />
                                    <p:column id="KgvsCirc" rowspan="2" headerText="Кгвс цирк" width="85" />
                                </p:row>
                                <p:row>
                                    <p:column id="KyCo" headerText="ЦО" />
                                    <p:column id="KyV" headerText="В" />
                                    <p:column id="KyGvs" headerText="ГВС" />
                                </p:row>
                            </p:columnGroup>

                            <p:column>
                                <h:outputText value="Источник - Потребитель" />
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="&gt;#{other.t7}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.t7}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="&#8804;#{other.dt7}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.dt7}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{other.kt}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.kt}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{other.kto}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.kto}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{other.kg}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.kg}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{other.kv}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.kv}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{other.kuco}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.kuco}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{other.kuvent}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.kuvent}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{other.kugvs}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.kugvs}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{other.kpco}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.kpco}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{other.kdgco}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.kdgco}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <!--два ввода в строке <p:column style="text-align: center;" styleClass="double">-->
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="К1&lt;#{other.k1}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.k1}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="К2&lt;#{other.k2}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.k2}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{other.kpgvs}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.kpgvs}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{other.kdggvs}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.kdggvs}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{other.kqgvsl}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.kqgvsl}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="&#8804;#{other.gvsdt}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.gvsdt}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="&lt;#{other.kgvsc}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{other.kgvsc}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                        </p:dataTable>

                        <p:tooltip for="normIndicators:borderValues:KrCo" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/Kr co.jpg" library="normIndicators"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:borderValues:KrGvs" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/Kr gvs.jpg" library="normIndicators" showDelay="500"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:borderValues:KdgCo" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/Kdg co.jpg" library="normIndicators" showDelay="500"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:borderValues:KdgGvs" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/Kdg gvs.jpg" library="normIndicators"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:borderValues:T7" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/T7.jpg" library="normIndicators"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:borderValues:Tgvs" position="left" showDelay="500">
                            <p:graphicImage name="tooltip/Tgvs.jpg" library="normIndicators"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:borderValues:Kt" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/Kt.jpg" library="normIndicators"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:borderValues:Kto" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/Kto.jpg" library="normIndicators"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:borderValues:Kg" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/Kg.jpg" library="normIndicators"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:borderValues:Kv" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/Kv.jpg" library="normIndicators"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:borderValues:KyGvs" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/Ky gvs.jpg" library="normIndicators"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:borderValues:KyV" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/Ky V.jpg" library="normIndicators"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:borderValues:KyCo" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/Ky co.jpg" library="normIndicators"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:borderValues:kqgvsleto" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/Kq gvs summer.jpg" library="normIndicators"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:borderValues:KgvsCirc" position="left" showDelay="500">
                            <p:graphicImage name="tooltip/Kgvs circ.jpg" library="normIndicators"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:borderValues:dT7" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/dT7.jpg" library="normIndicators"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:borderValues:K1" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/K1.jpg" library="normIndicators"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:borderValues:K2" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/K2.jpg" library="normIndicators"/>
                        </p:tooltip>
                    </div>

                    <f:facet name="actions">
                        <p:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default tc-success tc-no-loading tc-small"
                                       onclick="PF('statusDialog').show();" rendered="#{systemParamsUtil.write}"
                                       action="#{normIndicators.onSaveChanges('Other')}" update="borderValues growl"
                                       oncomplete="PF('statusDialog').hide();">
                            <h:outputText styleClass="ui-icon pi pi-save"/>
                        </p:commandLink>
                    </f:facet>
                </p:panel>
            </div>
            <div style="display: flex; margin-bottom: 5px;">
                <div style="flex: 1 1 0; margin-right: 5px;">
                    <p:panel styleClass="tc-panel" header="Анализ потребителей T7">
                        <div style="height: calc(100% - 6px); padding: 3px;">
                            <p:dataTable id="consumerAnalisisT7Table" value="#{normIndicators.indicatorT7List}" var="t7"
                                         editable="#{systemParamsUtil.write}" editMode="cell"
                                         emptyMessage="#{global['table.empty.value']}">

                                <p:ajax event="cellEdit" listener="#{normIndicators.onCellEdit}" />

                                <p:column headerText="Тип объекта" >
                                    <h:outputText value="#{t7.name}"/>
                                </p:column>
                                <p:column id="T7ming" headerText="T7min Ж" style="text-align: center;">
                                    <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                        <f:facet name="output">
                                            <h:outputText value="#{t7.minG}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputNumber value="#{t7.minG}" decimalPlaces="2"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column id="T7maxg" headerText="T7max Ж" style="text-align: center;">
                                    <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                        <f:facet name="output">
                                            <h:outputText value="#{t7.maxG}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputNumber value="#{t7.maxG}" decimalPlaces="2"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column id="T7minp" headerText="T7min П" style="text-align: center;">
                                    <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                        <f:facet name="output">
                                            <h:outputText value="#{t7.minP}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputNumber value="#{t7.minP}" decimalPlaces="2"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column id="T7maxp" headerText="T7max П" style="text-align: center;">
                                    <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                        <f:facet name="output">
                                            <h:outputText value="#{t7.maxP}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputNumber value="#{t7.maxP}" decimalPlaces="2"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                            </p:dataTable>

                            <p:tooltip for="normIndicators:consumerAnalisisT7Table:T7ming" position="bottom" showDelay="500">
                                <p:graphicImage name="tooltip/T7min g.jpg" library="normIndicators"/>
                            </p:tooltip>
                            <p:tooltip for="normIndicators:consumerAnalisisT7Table:T7maxg" position="bottom" showDelay="500">
                                <p:graphicImage name="tooltip/T7max g.jpg" library="normIndicators"/>
                            </p:tooltip>
                            <p:tooltip for="normIndicators:consumerAnalisisT7Table:T7minp" position="bottom" showDelay="500">
                                <p:graphicImage name="tooltip/T7min p.jpg" library="normIndicators"/>
                            </p:tooltip>
                            <p:tooltip for="normIndicators:consumerAnalisisT7Table:T7maxp" position="bottom" showDelay="500">
                                <p:graphicImage name="tooltip/T7max p.jpg" library="normIndicators"/>
                            </p:tooltip>
                        </div>

                        <f:facet name="actions">
                            <p:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default tc-success tc-no-loading tc-small"
                                           onclick="PF('statusDialog').show();" rendered="#{systemParamsUtil.write}"
                                           action="#{normIndicators.onSaveChanges('T7')}" update="consumerAnalisisT7Table growl"
                                           oncomplete="PF('statusDialog').hide();">
                                <h:outputText styleClass="ui-icon pi pi-save"/>
                            </p:commandLink>
                        </f:facet>
                    </p:panel>
                </div>
                <div style="flex: 1 1 0;">
                    <p:panel styleClass="tc-panel" header="Анализ потребителей ΔT7">
                        <div style="height: calc(100% - 6px); padding: 3px;">
                            <p:dataTable id="consumerAnalisisDeltaT7Table" value="#{normIndicators.indicatorDT7List}" var="dT7"
                                         editable="#{systemParamsUtil.write}" editMode="cell"
                                         emptyMessage="#{global['table.empty.value']}">

                                <p:ajax event="cellEdit" listener="#{normIndicators.onCellEdit}" />

                                <p:column id="Tmin" headerText="ΔTmin" style="text-align: center;">
                                    <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                        <f:facet name="output">
                                            <h:outputText value="#{dT7.dtMin}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputNumber value="#{dT7.dtMin}" decimalPlaces="2"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column id="Tmax" headerText="ΔTmax" style="text-align: center;">
                                    <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                        <f:facet name="output">
                                            <h:outputText value="#{dT7.dtMax}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputNumber value="#{dT7.dtMax}" decimalPlaces="2"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                                <p:column id="Tnorm" headerText="ΔTнорм" style="text-align: center;">
                                    <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                        <f:facet name="output">
                                            <h:outputText value="#{dT7.dtNorm}"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputNumber value="#{dT7.dtNorm}" decimalPlaces="2"/>
                                        </f:facet>
                                    </p:cellEditor>
                                </p:column>
                            </p:dataTable>

                            <p:tooltip for="normIndicators:consumerAnalisisDeltaT7Table:Tmin" position="bottom" showDelay="500">
                                <p:graphicImage name="tooltip/Tmin.png" library="normIndicators"/>
                            </p:tooltip>
                            <p:tooltip for="normIndicators:consumerAnalisisDeltaT7Table:Tmax" position="bottom" showDelay="500">
                                <p:graphicImage name="tooltip/Tmax.png" library="normIndicators"/>
                            </p:tooltip>
                            <p:tooltip for="normIndicators:consumerAnalisisDeltaT7Table:Tnorm" position="left" showDelay="500">
                                <p:graphicImage name="tooltip/Tnorm.png" library="normIndicators"/>
                            </p:tooltip>
                        </div>

                        <f:facet name="actions">
                            <p:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default tc-success tc-no-loading tc-small"
                                           onclick="PF('statusDialog').show();" rendered="#{systemParamsUtil.write}"
                                           action="#{normIndicators.onSaveChanges('dT7')}" update="consumerAnalisisDeltaT7Table growl"
                                           oncomplete="PF('statusDialog').hide();">
                                <h:outputText styleClass="ui-icon pi pi-save"/>
                            </p:commandLink>
                        </f:facet>
                    </p:panel>
                </div>
            </div>
            <div>
                <p:panel styleClass="tc-panel" header="Недоотпуск">
                    <div style="height: calc(100% - 6px); padding: 3px;">
                        <p:dataTable id="underSupplyValues" value="#{normIndicators.indicatorUnderSupplyList}" var="underSupply"
                                     editable="#{systemParamsUtil.write}" editMode="cell"
                                     emptyMessage="#{global['table.empty.value']}" style="height: 100%;" >

                            <p:ajax event="cellEdit" listener="#{normIndicators.onCellEdit}" />

                            <p:columnGroup type="header">
                                <p:row>
                                    <p:column id="T3" colspan="3" headerText="Недоотпуск по Т3"/>
                                    <p:column id="T4" colspan="3" headerText="Недоотпуск по Т4"/>
                                </p:row>
                                <p:row>
                                    <p:column headerText="k1" />
                                    <p:column headerText="k2" />
                                    <p:column headerText="k3" />
                                    <p:column headerText="k1" />
                                    <p:column headerText="k2" />
                                    <p:column headerText="k3" />
                                </p:row>
                            </p:columnGroup>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{underSupply.t3K1}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{underSupply.t3K1}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{underSupply.t3K2}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{underSupply.t3K2}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{underSupply.t3K3}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{underSupply.t3K3}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{underSupply.t4K1}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{underSupply.t4K1}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{underSupply.t4K2}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{underSupply.t4K2}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="text-align: center;">
                                <p:cellEditor disabled="#{!systemParamsUtil.write}">
                                    <f:facet name="output">
                                        <h:outputText value="#{underSupply.t4K3}"/>
                                    </f:facet>
                                    <f:facet name="input">
                                        <p:inputNumber value="#{underSupply.t4K3}" decimalPlaces="2"/>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                        </p:dataTable>

                        <p:tooltip for="normIndicators:underSupplyValues:T3" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/T3UnderSupply.jpg" library="normIndicators"/>
                        </p:tooltip>
                        <p:tooltip for="normIndicators:underSupplyValues:T4" position="bottom" showDelay="500">
                            <p:graphicImage name="tooltip/T4UnderSupply.jpg" library="normIndicators"/>
                        </p:tooltip>
                    </div>

                    <f:facet name="actions">
                        <p:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default tc-success tc-no-loading tc-small"
                                       onclick="PF('statusDialog').show();" rendered="#{systemParamsUtil.write}"
                                       action="#{normIndicators.onSaveChanges('underSupply')}" update="underSupplyValues growl"
                                       oncomplete="PF('statusDialog').hide();">
                            <h:outputText styleClass="ui-icon pi pi-save"/>
                        </p:commandLink>
                    </f:facet>
                </p:panel>
            </div>
        </p:panel>
    </h:form>
</ui:composition>
